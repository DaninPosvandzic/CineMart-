<nav class="navbar">
  <div class="navbar-container">
    <!-- LOGO -->
    <div class="logo" routerLink="/">
      <span class="logo-icon">ğŸ¬</span>
      <span class="logo-text">CineMart</span>
    </div>

    <!-- DESKTOP NAV -->
    <ul class="nav-links">
      <li>
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="link-icon">ğŸ </span>
          <span class="link-text">Home</span>
        </a>
      </li>
      <li>
        <a routerLink="/movies" routerLinkActive="active">
          <span class="link-icon">ğŸ¥</span>
          <span class="link-text">Movies</span>
        </a>
      </li>
      <li>
        <a routerLink="/kontakt" routerLinkActive="active">
          <span class="link-icon">ğŸ“§</span>
          <span class="link-text">Contact</span>
        </a>
      </li>
    </ul>

    <!-- USER ACTIONS -->
    <div class="user-actions">
      <!-- Not authenticated -->
      <button
        *ngIf="!isAuthenticated()"
        routerLink="/auth/login"
        class="btn btn-login">
        <span class="btn-icon">ğŸ”‘</span>
        <span class="btn-text">Login</span>
      </button>

      <button
        *ngIf="!isAuthenticated()"
        routerLink="/auth/register"
        class="btn btn-register">
        <span class="btn-icon">ğŸ“</span>
        <span class="btn-text">Register</span>
        </button>
      <!-- Authenticated - User -->
      <button
        *ngIf="isAuthenticated() && isUser()"
        routerLink="/my-movies"
        class="btn btn-primary">
        <span class="btn-icon">ğŸ“š</span>
        <span class="btn-text">My Movies</span>
      </button>

      <!-- Authenticated - Admin -->
      <button
        *ngIf="isAuthenticated() && isAdmin()"
        routerLink="/movies/add"
        class="btn btn-admin">
        <span class="btn-icon">â•</span>
        <span class="btn-text">Add Movie</span>
      </button>

      <!-- Logout -->
      <button
        *ngIf="isAuthenticated()"
        (click)="openLogoutModal()"
        class="btn btn-logout">
        <span class="btn-icon">ğŸšª</span>
        <span class="btn-text">Logout</span>
      </button>

      <!-- Mobile menu toggle -->
      <button class="mobile-toggle" (click)="toggleMobileMenu()" [class.active]="mobileMenuActive">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <!-- MOBILE MENU -->
  <div class="mobile-menu" [class.active]="mobileMenuActive">
    <ul class="mobile-nav-links">
      <li>
        <a routerLink="/" (click)="toggleMobileMenu()" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="link-icon">ğŸ </span>
          <span class="link-text">Home</span>
        </a>
      </li>
      <li>
        <a routerLink="/movies" (click)="toggleMobileMenu()" routerLinkActive="active">
          <span class="link-icon">ğŸ¥</span>
          <span class="link-text">Movies</span>
        </a>
      </li>
      <li>
        <a routerLink="/kontakt" (click)="toggleMobileMenu()" routerLinkActive="active">
          <span class="link-icon">ğŸ“§</span>
          <span class="link-text">Contact</span>
        </a>
      </li>

      <li class="divider"></li>

      <!-- Mobile User Actions -->
      <li *ngIf="!isAuthenticated()">
        <a routerLink="/auth/login" (click)="toggleMobileMenu()" class="mobile-action">
          <span class="link-icon">ğŸ”‘</span>
          <span class="link-text">Login</span>
        </a>
      </li>
      

      <li *ngIf="isAuthenticated() && isUser()">
        <a routerLink="/my-movies" (click)="toggleMobileMenu()" class="mobile-action">
          <span class="link-icon">ğŸ“š</span>
          <span class="link-text">My Movies</span>
        </a>
      </li>

      <li *ngIf="isAuthenticated() && isAdmin()">
        <a routerLink="/movies/add" (click)="toggleMobileMenu()" class="mobile-action">
          <span class="link-icon">â•</span>
          <span class="link-text">Add Movie</span>
        </a>
      </li>

      <li *ngIf="isAuthenticated()">
        <a (click)="openLogoutModal(); toggleMobileMenu()" class="mobile-action logout">
          <span class="link-icon">ğŸšª</span>
          <span class="link-text">Logout</span>
        </a>
      </li>
    </ul>
  </div>
</nav>

<!-- LOGOUT MODAL -->
<div class="modal-backdrop" *ngIf="showLogoutModal" (click)="onBackdropClick($event)">
  <div class="modal">
    <div class="modal-icon">ğŸšª</div>
    <h3>Logout</h3>
    <p>Are you sure you want to logout?</p>

    <div class="modal-actions">
      <button class="btn-cancel" (click)="closeLogoutModal()">Cancel</button>
      <button class="btn-confirm" (click)="confirmLogout()">Logout</button>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" *ngIf="showToast">
  <span class="toast-icon">âœ“</span>
  <span class="toast-message">{{ toastMessage }}</span>
</div>
